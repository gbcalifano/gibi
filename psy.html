<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>Psychometrics | Giovanbattista Califano</title>
    
    <link rel="icon" href="img/favicon.svg" type="image/svg+xml">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = { darkMode: 'class' };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    
    <style>
        :root {
            --color-primary-light: #6aa84f;
            --color-primary-dark: #34d399;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: #111827;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f3f4f6;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        html.dark body {
            color: #e5e7eb;
            background-color: #030712;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(125deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            z-index: -1;
        }

        html.dark body::before {
             background: linear-gradient(125deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));
        }

        main {
            flex-grow: 1;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.5);
            -webkit-backdrop-filter: blur(20px);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.25);
        }

        html.dark .glass-effect {
            background: rgba(20, 20, 30, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        header {
            -webkit-backdrop-filter: blur(20px);
            backdrop-filter: blur(20px);
            background-color: rgba(255, 255, 255, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        html.dark header {
            background-color: rgba(15, 23, 42, 0.3);
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }
        
        .link-primary {
            font-weight: 600;
            color: var(--color-primary-light);
            transition: color 0.2s ease;
        }
        .link-primary:hover {
            color: #5a9a3f;
            text-decoration: underline;
        }
        html.dark .link-primary {
            color: var(--color-primary-dark);
        }
        html.dark .link-primary:hover {
            color: #6ee7b7;
        }

        .card {
            border-radius: 1.25rem;
        }
    </style>
</head>
<body>

    <header class="sticky top-0 z-40 w-full">
        <div class="container mx-auto max-w-4xl px-4">
            <div class="flex items-center justify-between h-16">
                <a href="index.html" class="text-xl font-bold text-slate-900 dark:text-white hover:text-[var(--color-primary-light)] dark:hover:text-[var(--color-primary-dark)] transition-colors">
                    Giovanbattista Califano <small><small><i>PhD</i></small></small>
                </a>
                <div class="flex items-center space-x-4">
                     <nav class="hidden md:block">
                         <ul class="flex items-center space-x-6 text-sm font-medium text-slate-700 dark:text-slate-300">
                            <li><a href="index.html" class="hover:text-[var(--color-primary-light)] dark:hover:text-[var(--color-primary-dark)] transition-colors">&larr; Back to Home</a></li>
                        </ul>
                    </nav>
                    <button id="theme-toggle" type="button" aria-label="Toggle dark mode" class="text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-lg text-sm p-2.5 glass-effect">
                        <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                        <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 5.05A1 1 0 016.465 3.636l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto max-w-4xl px-4 py-8 md:py-12">
        <section class="space-y-8">
            <h1 class="text-3xl font-bold text-slate-900 dark:text-white tracking-tight text-center">Psychometrics for Consumer Science</h1>
            
            <div class="card glass-effect overflow-x-auto p-0">
                <table id="downloadTable" class="w-full text-sm text-left text-slate-800 dark:text-slate-300">
                    <thead class="text-xs text-slate-900 dark:text-slate-200 uppercase bg-slate-50/10 dark:bg-slate-800/10">
                        <tr>
                            <th scope="col" class="px-6 py-4 cursor-pointer hover:bg-slate-200/20 dark:hover:bg-slate-700/20" onclick="sortTable(0)">Name<span class="arrow ml-2"></span></th>
                            <th scope="col" class="px-6 py-4 cursor-pointer hover:bg-slate-200/20 dark:hover:bg-slate-700/20" onclick="sortTable(1)">Type<span class="arrow ml-2"></span></th>
                            <th scope="col" class="px-6 py-4">Info</th>
                            <th scope="col" class="px-6 py-4"></th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200/50 dark:divide-slate-700/50">
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">ES3</td>
                            <td class="px-6 py-4">do</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">Esercitazione su PSY4</td>
                            <td class="px-6 py-4 text-right"><a href="file/es3.do" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">PSY4</td>
                            <td class="px-6 py-4">pdf</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">"Modelli ad Equazioni Strutturali"</td>
                            <td class="px-6 py-4 text-right"><a href="file/PSY4.pdf" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">ES2</td>
                            <td class="px-6 py-4">do</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">Esercitazione su PSY3</td>
                            <td class="px-6 py-4 text-right"><a href="file/es2.do" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">PSY3</td>
                            <td class="px-6 py-4">pdf</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">"Variabili Latenti: Riflessive o Formative?"</td>
                            <td class="px-6 py-4 text-right"><a href="file/PSY3.pdf" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">ES1</td>
                            <td class="px-6 py-4">do</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">Esercitazione su PSY2</td>
                            <td class="px-6 py-4 text-right"><a href="file/es1.do" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">PSY2</td>
                            <td class="px-6 py-4">pdf</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">"Affidabilità e Validità di una Misura"</td>
                            <td class="px-6 py-4 text-right"><a href="file/PSY2.pdf" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">PSY1</td>
                            <td class="px-6 py-4">pdf</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">"Hello, Psychometrics!"</td>
                            <td class="px-6 py-4 text-right"><a href="file/PSY1.pdf" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">Mamme</td>
                            <td class="px-6 py-4">dta</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">Stata dataset on mothers' use of food labels</td>
                            <td class="px-6 py-4 text-right"><a href="file/mamme.dta" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">Masteristi</td>
                            <td class="px-6 py-4">dta</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">Stata dataset on fictional students</td>
                            <td class="px-6 py-4 text-right"><a href="file/masteristi.dta" download class="link-primary">Download</a></td>
                        </tr>
                        <tr class="hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors">
                            <td class="px-6 py-4 font-medium whitespace-nowrap">Height</td>
                            <td class="px-6 py-4">dta</td>
                            <td class="px-6 py-4 text-slate-600 dark:text-slate-400">Stata dataset on fictional students</td>
                            <td class="px-6 py-4 text-right"><a href="file/height.dta" download class="link-primary">Download</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>
    
    <footer class="text-center mt-auto py-8 border-t border-white/20 dark:border-white/10 glass-effect">
        <p class="text-sm text-slate-600 dark:text-slate-400">
            All Rights Reserved © Giovanbattista Califano 2025
        </p>
        <p class="text-sm text-slate-500 dark:text-slate-400 mt-2">
            <a href="privacy.html" class="hover:underline">Privacy & Cookie Policy</a>
        </p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Theme Toggle ---
        const themeToggle = document.getElementById('theme-toggle');
        const darkIcon = document.getElementById('theme-toggle-dark-icon');
        const lightIcon = document.getElementById('theme-toggle-light-icon');
        
        function updateThemeIcons() {
            const isDark = document.documentElement.classList.contains('dark');
            if(darkIcon) darkIcon.classList.toggle('hidden', isDark);
            if(lightIcon) lightIcon.classList.toggle('hidden', !isDark);
        }
        if(themeToggle) {
            themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
                updateThemeIcons();
            });
            updateThemeIcons();
        }
    });

    // --- Table Sorting ---
    let lastCol = -1, lastDir = 'asc';
    function sortTable(colIndex) {
      const table = document.getElementById("downloadTable");
      const tbody = table.tBodies[0];
      const rows = Array.from(tbody.rows);
      
      let dir = (colIndex === lastCol && lastDir === 'asc') ? 'desc' : 'asc';

      rows.sort((a, b) => {
        const aText = a.cells[colIndex].textContent.trim().toLowerCase();
        const bText = b.cells[colIndex].textContent.trim().toLowerCase();
        if (aText < bText) return dir === 'asc' ? -1 : 1;
        if (aText > bText) return dir === 'asc' ? 1 : -1;
        return 0;
      });

      rows.forEach(row => tbody.appendChild(row));

      const ths = table.tHead.rows[0].cells;
      for (let i = 0; i < ths.length; i++) {
        const arrowSpan = ths[i].querySelector('.arrow');
        if (!arrowSpan) continue;
        arrowSpan.textContent = (i === colIndex) ? (dir === 'asc' ? '▲' : '▼') : '';
      }

      lastCol = colIndex;
      lastDir = dir;
    }
    </script>
</body>
</html>